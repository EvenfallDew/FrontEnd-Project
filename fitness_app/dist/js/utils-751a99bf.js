!function(){"use strict";function n(n){return n<10?"0"+n:n}window.$utils={BASE_URL:"http://139.9.177.51:8099",isPhoneNum:function(n){return/^1[3-9]\d{9}$/.test(n)},isPassword:function(n){return/^[a-zA-Z]\w{5,11}$/.test(n)},showToast:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"icon-toast-correct",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"成功",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,e=document.createElement("div");e.className="msg-box",e.innerHTML='\n     <i class="iconfont '+n+'"></i>\n     <p class="msg-text">'+t+"</p>\n     ",document.body.appendChild(e),setTimeout((function(){e.remove()}),o)},commonFooter:function(){var n=document.createElement("footer");n.className="common-footer",n.innerHTML='\n        <div class="footer-btn">\n            <span class="iconfont icon-footer-index"></span>\n            <p>运动</p>\n        </div>\n        <div class="footer-btn">\n            <span class="iconfont icon-footer-sports"></span>\n            <p>运动</p>\n        </div>\n        <div class="footer-btn">\n            <span class="iconfont icon-footer-social"></span>\n            <p>圈子</p>\n        </div>\n        <div class="footer-btn">\n            <span class="iconfont icon-footer-mine"></span>\n            <p>我的</p>\n        </div>\n    ',document.body.appendChild(n);for(var t=document.querySelectorAll(".footer-btn"),o=["./index.html","./sports_run.html","./social.html","./mine.html"],e=function(n){t[n].addEventListener("click",(function(){$utils.out(),setTimeout((function(){location.href=o[n]}),1e3)}))},a=0;a<t.length;a++)e(a);var r=location.pathname.split("/"),i="./"+r[r.length-1],s=o.findIndex((function(n){return n==i}));-1==s?t[1].classList.add("footer-on"):t[s].classList.add("footer-on")},commonHeader:function(){var n=document.querySelector("#sportsHeader"),t=document.createElement("div");t.className="common-header",t.innerHTML='\n        <a id="runLink" class="header-btn" href="./sports_run.html">跑步</a>\n        <a id="rideLink" class="header-btn" href="./sports_ride.html">骑行</a>\n        <a id="trainLink" class="header-btn" href="./sports_train.html">课程训练</a>\n    ',n.appendChild(t);var o=document.querySelectorAll(".header-btn"),e=["./sports_run.html","./sports_ride.html","./sports_train.html"],a=location.pathname.split("/"),r="./"+a[a.length-1],i=e.findIndex((function(n){return n==r}));o[i].classList.add("header-on");for(var s=function(n){o[n].addEventListener("click",(function(t){t.preventDefault(),$utils.out(),setTimeout((function(){location.href=e[n]}),1e3)}))},c=0;c<o.length;c++)s(c)},padZero:n,formatDate:function(t){var o=new Date(t);return[o.getFullYear(),o.getMonth()+1,o.getDate()].map((function(t){return n(t)})).join("-")},secondToHms:function(t){return[Math.floor(t/60/60),Math.floor(t/60%60),t%60].map((function(t){return n(t)})).join(":")},drawLine:function(n,t,o){var e=new BMap.Polyline([new BMap.Point(t.lng,t.lat),new BMap.Point(o.lng,o.lat)],{strokeColor:"blue",strokeWeight:6,strokeOpacity:.5});n.addOverlay(e)},calcDistance:function(n,t){var o=n.lat,e=n.lng,a=t.lat,r=t.lng,i=o*Math.PI/180,s=a*Math.PI/180,c=i-s,l=e*Math.PI/180-r*Math.PI/180,d=2*Math.asin(Math.sqrt(Math.pow(Math.sin(c/2),2)+Math.cos(i)*Math.cos(s)*Math.pow(Math.sin(l/2),2)));return d*=6378.137,(d=Math.round(1e4*d)/1e4).toFixed(2)},calcPace:function(n,t){var o=t/60;if(n>0&&o>0){var e=parseFloat(o/n),a=Math.floor(e);return a+"'"+(60*(e-a)).toFixed(0)+'"'}return"--"},calCalorie:function(n){return n>0?(60*n*1.036).toFixed(2):"--"},randomNum:function(n,t){return(Math.random()<.5?-1:1)*(Math.random()*(n-t)+t)},load:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1400,t=document.querySelector("#loadMask");setTimeout((function(){t.style.display="none"}),n)},out:function(){document.querySelector("#outMask").style.display="block"}}}();