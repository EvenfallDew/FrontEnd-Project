!function(){var t={667:function(t,e,o){"use strict";o.r(e)},151:function(t,e,o){t.exports=o.p+"images/7a661d86.jpg"}},e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t+"../"}(),function(){"use strict";o(667),$utils.load(1400),document.ready((function(){$utils.commonFooter();var t=document.querySelector("#userHead"),e=document.querySelector("#headPic"),n=document.querySelector("#uploadHead"),i=document.querySelector("#userName"),r=document.querySelector("#signText"),c=document.querySelector("#times"),u=document.querySelector("#coursetims"),s=null;null==JSON.parse(localStorage.getItem("user"))?($utils.showToast("icon-toast-wrong","请登录",3e3),setTimeout((function(){location.href="./login.html"}),3e3)):s=JSON.parse(localStorage.getItem("user")).userId,n.addEventListener("change",(function(){var t=this.files[0],o=new FormData;o.append("imgurl",t),axios.post($utils.BASE_URL+"/users/upload",o).then((function(t){var o=t.data;0==o.status&&(e.src=$utils.BASE_URL+o.data,axios.post($utils.BASE_URL+"/users/userEdit",{userId:s,imgurl:o.data}).then((function(t){0==t.data.status?console.log("修改成功"):console.log("修改失败")})).catch((function(t){console.log(t)})),$utils.showToast("icon-toast-correct","上传成功",2e3))})).catch((function(t){console.log(t)}))})),t.addEventListener("click",(function(){n.click()})),axios.get($utils.BASE_URL+"/users/accountinfo?userId="+s).then((function(t){var n,c=t.data;0==c.status&&(localStorage.setItem("user",JSON.stringify(c.data)),n=c.data,e.src=n.imgurl?$utils.BASE_URL+n.imgurl:o(151),i.textContent=n.nickname,r.textContent=n.sign?n.sign:"这个人很懒，什么都没有留下")})).catch((function(t){console.log(t)})),axios.get($utils.BASE_URL+"/sports/exerciseData?id="+s).then((function(t){var e,o=t.data;0==o.status&&(localStorage.setItem("exerciseData",JSON.stringify(o.data)),e=o.data,c.textContent=e.times.toFixed(2),u.textContent=e.coursetims.toFixed(2))})).catch((function(t){console.log(t)})),document.querySelector("#logoutBtn").addEventListener("click",(function(){$utils.showToast("icon-toast-correct","退出成功",2e3),localStorage.removeItem("user"),setTimeout((function(){$utils.out(),setTimeout((function(){location.href="./login.html"}),1e3)}),2e3)})),document.querySelector("#infoLink").addEventListener("click",(function(){$utils.out(),setTimeout((function(){location.href="./mine_info.html"}),1e3)})),document.querySelector("#dataLink").addEventListener("click",(function(){$utils.out(),setTimeout((function(){location.href="./mine_data.html"}),1e3)})),document.querySelector("#badgeLinks").addEventListener("click",(function(){$utils.out(),setTimeout((function(){location.href="./mine_badge.html"}),1e3)}))}))}()}();