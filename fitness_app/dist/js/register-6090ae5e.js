!function(){"use strict";var t={305:function(t,i,e){function n(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({lineWidth:.5,lineNum:2,dotR:1,dotNum:15,preGroundColor:[10,80],backGroundColor:[150,250],fontSize:20,fontFamily:["Georgia","微软雅黑","Helvetica","Arial"],fontStyle:"fill",content:"acdefhijkmnpwxyABCDEFGHJKMNPQWXY12345789",length:4},i);Object.keys(e).forEach((function(i){t[i]=e[i]})),this.canvas=null,this.paint=null}t=e.nmd(t),n.prototype.getRandom=function(){for(var t=arguments.length,i=Array(t),e=0;e<t;e++)i[e]=arguments[e];return i.sort((function(t,i){return t-i})),Math.floor(Math.random()*(i[1]-i[0])+i[0])},n.prototype.getColor=function(t){var i=this,e=new Array(3).fill("");return e.map((function(e){return i.getRandom.apply(i,function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}(t))}))},n.prototype.getText=function(){for(var t=this.content.length,i="",e=0;e<this.length;e++)i+=this.content[this.getRandom(0,t)];return i},n.prototype.line=function(){for(var t=0;t<this.lineNum;t++){var i=this.getRandom(0,this.canvas.width),e=this.getRandom(0,this.canvas.height),n=this.getRandom(0,this.canvas.width),o=this.getRandom(0,this.canvas.height);this.paint.beginPath(),this.paint.lineWidth=this.lineWidth;var a=this.getColor(this.preGroundColor);this.paint.strokeStyle="rgba("+a[0]+","+a[1]+","+a[2]+",0.8)",this.paint.moveTo(i,e),this.paint.lineTo(n,o),this.paint.closePath(),this.paint.stroke()}},n.prototype.circle=function(){for(var t=0;t<this.dotNum;t++){var i=this.getRandom(0,this.canvas.width),e=this.getRandom(0,this.canvas.height);this.paint.beginPath(),this.paint.arc(i,e,this.dotR,0,2*Math.PI,!1),this.paint.closePath();var n=this.getColor(this.preGroundColor);this.paint.fillStyle="rgba("+n[0]+","+n[1]+","+n[2]+",0.8)",this.paint.fill()}},n.prototype.font=function(){var t=this.getText();this.callback(t),this.paint.font=this.fontSize+"px "+this.fontFamily[this.getRandom(0,this.fontFamily.length)],this.paint.textBaseline="middle";for(var i=this.fontStyle+"Text",e=this.fontStyle+"Style",n=0;n<this.length;n++){var o=this.paint.measureText(t[n]).width,a=this.getRandom(this.canvas.width/this.length*n+.2*o,this.canvas.width/this.length*n+.5*o),s=this.getRandom(-6,6),r=this.getColor(this.preGroundColor);this.paint[e]="rgba("+r[0]+","+r[1]+","+r[2]+",0.8)",this.paint.save(),this.paint.rotate(s*Math.PI/180),this.paint[i](t[n],a,this.canvas.height/2),this.paint.restore()}},n.prototype.draw=function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!this.paint){if(this.canvas=t,!this.canvas)return;this.paint=this.canvas.getContext("2d"),this.callback=e,this.canvas.onclick=function(){i.drawAgain()}}var n=this.getColor(this.backGroundColor);this.paint.fillStyle="rgba("+n[0]+","+n[1]+","+n[2]+",0.8)",this.paint.fillRect(0,0,this.canvas.width,this.canvas.height),this.circle(),this.line(),this.font()},n.prototype.clear=function(){this.paint.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.drawAgain=function(){this.clear(),this.draw(this.callbak)},!t.nodeType&&t.exports&&(t.exports=n)},424:function(t,i,e){e.r(i)}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={id:n,loaded:!1,exports:{}};return t[n](o,o.exports,e),o.loaded=!0,o.exports}e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){e(424);var t=e(305);document.ready((function(){var i=new t({lineNum:1,dotNum:5,length:4}),e="";i.draw(document.querySelector("#captchaText"),(function(t){e=t}));var n=document.querySelector("#phone"),o=document.querySelector("#captcha"),a=document.querySelector("#password"),s=document.querySelector("#rePassword"),r=document.querySelector("#registerBtn"),h=document.querySelector("#msg"),l=document.querySelector("#testBtn");r.addEventListener("click",(function(){var t=n.value,i=o.value,l=a.value,c=s.value;$utils.isPhoneNum(t)?i.toLowerCase()==e.toLowerCase()?$utils.isPassword(l)?l==c?axios.post($utils.BASE_URL+"/users/add",{account:t,password:l}).then((function(t){var i=t.data;0==i.status?($utils.showToast("icon-toast-correct","注册成功"),r.disabled=!0,setTimeout((function(){location.href="./login.html"}),3e3)):1==i.status&&(r.disabled=!0,$utils.showToast("icon-toast-wrong","注册失败"),setTimeout((function(){r.disabled=!1}),3e3))})).catch((function(t){console.log(t)})):h.textContent="两次输入密码不一致":h.textContent="字母开头,6~12位,含字母、数字下划线":h.textContent="验证码错误":h.textContent="手机号码格式错误"})),l.addEventListener("click",(function(){n.value="13333333333",o.value=e,a.value="a123123",s.value="a123123"}))}))}()}();